<!--
// Service Fee
 -->
<div class="card entry-list">
  <div class="card-header">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6">
        <div class="title-list">
          <span>Phí dịch vụ</span>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="card-header-actions">
          <button (click)="serviceFeeModalOpen(serviceFeeModal)" class="btn btn-block btn-primary btn-rounded"
                  type="button">Thêm
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body table-responsive">
    <table class="table table-hover">
      <thead>
      <tr>
        <th rowspan="2">Dịch vụ</th>
        <th rowspan="2">Mức tiền hàng (Triệu VNĐ)</th>
        <th rowspan="2">Tính phí (%)</th>
        <th rowspan="2">Ghi chú</th>
        <th rowspan="2" class="text-right">Tác vụ</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of serviceFees">
        <td>{{item.title}}</td>
        <td>{{item.min_tot_tran}} - {{item.max_tot_tran}}</td>
        <td>{{item.val}}</td>
        <td>{{item.note}}</td>
        <td class="text-right">
          <button (click)="serviceFeeModalOpen(serviceFeeModal, item)" class="btn btn-sm btn-info mr-1 text-white"
                  type="button">
            Sửa
          </button>
          <button (click)="serviceFeeDelModalOpen(serviceFeeDelModal, item)" class="btn btn-sm btn-violet"
                  type="button">
            Xóa
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #serviceFeeModal>
  <form novalidate #serviceFeeForm="ngForm">
    <div class="modal-header">
      <h5 class="modal-title">Chi tiết Phí dịch vụ</h5>
    </div>
    <div class="modal-body" *ngIf="serviceFee">
      <div class="form-group">
        <label for="serviceFeeTitle">Dịch vụ <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="serviceFee.title" #serviceFeeTitle="ngModel" type="text" id="serviceFeeTitle"
               name="serviceFeeTitle"
               class="form-control"
               required
               placeholder="Dịch vụ">
        <div [hidden]="serviceFeeTitle.valid || serviceFeeTitle.untouched">
          <span *ngIf="serviceFeeTitle.errors && serviceFeeTitle.errors.required"
                class="badge badge-warning">
              Phải nhập DỊCH VỤ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="serviceFeeMinTotTran">Tiền hàng từ (Triệu VNĐ) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="serviceFee.min_tot_tran" #serviceFeeMinTotTran="ngModel" type="number" min="0"
               id="serviceFeeMinTotTran" name="serviceFeeMinTotTran"
               class="form-control"
               required
               placeholder="Tiền hàng từ">
        <div [hidden]="serviceFeeMinTotTran.valid || serviceFeeMinTotTran.untouched">
          <span *ngIf="serviceFeeMinTotTran.errors && serviceFeeMinTotTran.errors.required"
                class="badge badge-warning">
              Phải nhập TIỀN HÀNG TỪ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="serviceFeeMaxTotTran">Tiền hàng đến (Triệu VNĐ)</label>
        <input [(ngModel)]="serviceFee.max_tot_tran" type="number" min="0"
               id="serviceFeeMaxTotTran" name="serviceFeeMaxTotTran"
               class="form-control"
               placeholder="Tiền hàng đến">
      </div>

      <div class="form-group">
        <label for="serviceVal">Tính phí (%) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="serviceFee.val" #serviceVal="ngModel" type="number" min="0" max="100"
               id="serviceVal" name="serviceVal"
               class="form-control"
               required
               placeholder="Tính phí">
        <div [hidden]="serviceVal.valid || serviceVal.untouched">
          <span *ngIf="serviceVal.errors && serviceVal.errors.required"
                class="badge badge-warning">
              Phải nhập TÍNH PHÍ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="serviceNote">Ghi chú </label>
        <textarea [(ngModel)]="serviceFee.note" id="serviceNote" name="serviceNote" rows="3"
                  class="form-control"
                  placeholder="Ghi chú ..."></textarea>
      </div>

      <p></p>
      <alert type="danger" *ngIf="serviceFeeErrorMessage.length > 0">
        <p *ngFor="let error of serviceFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
      </alert>
    </div>
    <div class="modal-footer">
      <button type="button" [disabled]="!serviceFeeForm.form.valid || (serviceFeeSub && !serviceFeeSub.closed)"
              class="btn btn-primary btn-rounded" (click)="serviceFeeConfirm()">Cập nhật
      </button>
      <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
    </div>
  </form>
</ng-template>

<ng-template #serviceFeeDelModal>
  <div class="modal-header">
    <h5 class="modal-title">Xóa Phí dịch vụ</h5>
  </div>
  <div class="modal-body" *ngIf="serviceFee">
    <alert type="danger">
      <p><strong>!</strong> Bạn chắc chắn xóa "{{serviceFee.title}}"!</p>
    </alert>

    <p></p>
    <alert type="danger" *ngIf="serviceFeeErrorMessage.length > 0">
      <p *ngFor="let error of serviceFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
    </alert>
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="(serviceFeeSub && !serviceFeeSub.closed)"
            class="btn btn-primary btn-rounded" (click)="serviceFeeDelConfirm()">Xóa
    </button>
    <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
  </div>
</ng-template>

<!--
// =====================================================================================================================
// Transport Fee
 -->

<div class="card entry-list">
  <div class="card-header">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6">
        <div class="title-list">
          <span>Phí vận chuyển</span>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="card-header-actions">
          <button (click)="transportFeeModalOpen(transportFeeModal)" class="btn btn-block btn-primary btn-rounded"
                  type="button">Thêm
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="form-group row">
      <div class="col-md-2">
        <select [(ngModel)]="settingService.transportFeeSearchParam.warehouse_id" class="form-control"
                name="warehouse_id"
                id="warehouse_id" (change)="getTransportFeesData()">
          <option *ngFor="let warehouse of warehouses" [value]="warehouse.id">
            {{warehouse.title}}
          </option>
        </select>
      </div>
      <div class="col-md-2">
        <select [(ngModel)]="settingService.transportFeeSearchParam.type" class="form-control" name="type"
                id="type" (change)="getTransportFeesData()">
          <option value="1">Trọng lượng</option>
          <option value="2">Kích thước</option>
        </select>
      </div>
    </div>
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
        <tr>
          <th rowspan="2">Dịch vụ</th>
          <th rowspan="2">Mức cân nặng (Kg)</th>
          <th rowspan="2">Phí (VNĐ)</th>
          <th rowspan="2">Ghi chú</th>
          <th rowspan="2" class="text-right">Tác vụ</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of transportFees">
          <td>{{item.title}}</td>
          <td>{{item.min_r}} - {{item.max_r}}</td>
          <td>{{item.val | currency:'VND':'' }} đ</td>
          <td>{{item.note}}</td>
          <td class="text-right">
            <button (click)="transportFeeModalOpen(transportFeeModal, item)" class="btn btn-sm btn-info mr-1 text-white"
                    type="button">
              Sửa
            </button>
            <button (click)="transportFeeDelModalOpen(transportFeeDelModal, item)" class="btn btn-sm btn-violet"
                    type="button">
              Xóa
            </button>
          </td>
        </tr>
        </tbody>
      </table>

    </div>
  </div>
</div>


<ng-template #transportFeeModal>
  <form novalidate #transportFeeForm="ngForm">
    <div class="modal-header">
      <h5 class="modal-title">Chi tiết phí vận chuyển</h5>
    </div>
    <div class="modal-body" *ngIf="transportFee">
      <div class="form-group">
        <label for="transportFeeWarehouseId">Kho <code class="highlighter-rouge">*</code></label>
        <select [(ngModel)]="transportFee.warehouse_id" class="form-control"
                #transportFeeWarehouseId="ngModel"
                name="transportFeeWarehouseId"
                id="transportFeeWarehouseId"
                required>
          <option *ngFor="let warehouse of warehouses" [value]="warehouse.id">
            {{warehouse.title}}
          </option>
        </select>
        <div [hidden]="transportFeeWarehouseId.valid || transportFeeWarehouseId.untouched">
          <span *ngIf="transportFeeWarehouseId.errors && transportFeeWarehouseId.errors.required"
                class="badge badge-warning">
              Phải chọn KHO!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="transportFeeType">Tính theo <code class="highlighter-rouge">*</code></label>
        <select [(ngModel)]="transportFee.type" class="form-control"
                #transportFeeType="ngModel"
                name="transportFeeType"
                id="transportFeeType"
                required>
          <option value="1">Trọng lượng</option>
          <option value="2">Kích thước</option>
        </select>
        <div [hidden]="transportFeeType.valid || transportFeeType.untouched">
          <span *ngIf="transportFeeType.errors && transportFeeType.errors.required"
                class="badge badge-warning">
              Phải chọn TÍNH THEO!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="transportFeeTitle">Dịch vụ <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="transportFee.title" #transportFeeTitle="ngModel" type="text" id="transportFeeTitle"
               name="transportFeeTitle"
               class="form-control"
               required
               placeholder="Dịch vụ">
        <div [hidden]="transportFeeTitle.valid || transportFeeTitle.untouched">
          <span *ngIf="transportFeeTitle.errors && transportFeeTitle.errors.required"
                class="badge badge-warning">
              Phải nhập DỊCH VỤ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="transportFeeMinR">Trọng lượng (kích thước) từ <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="transportFee.min_r" #transportFeeMinR="ngModel" type="number" min="0"
               id="transportFeeMinR" name="transportFeeMinR"
               class="form-control"
               required
               placeholder="Trọng lượng (kích thước) từ">
        <div [hidden]="transportFeeMinR.valid || transportFeeMinR.untouched">
          <span *ngIf="transportFeeMinR.errors && transportFeeMinR.errors.required"
                class="badge badge-warning">
              Phải nhập TRỌNG LƯỢNG (Kích thước) TỪ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="transportFeeMaxR">Trọng lượng (kích thước) đến </label>
        <input [(ngModel)]="transportFee.max_r" type="number" min="0"
               id="transportFeeMaxR" name="transportFeeMaxR"
               class="form-control"
               placeholder="Trọng lượng (kích thước) đến">
      </div>

      <div class="form-group">
        <label for="transportFeeVal">Tính phí (VNĐ) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="transportFee.val" #transportFeeVal="ngModel" type="number" min="0" max="100"
               id="transportFeeVal" name="transportFeeVal"
               class="form-control"
               required
               placeholder="Tính phí">
        <div [hidden]="transportFeeVal.valid || transportFeeVal.untouched">
          <span *ngIf="transportFeeVal.errors && transportFeeVal.errors.required"
                class="badge badge-warning">
              Phải nhập TÍNH PHÍ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="transportFeeNote">Ghi chú </label>
        <textarea [(ngModel)]="transportFee.note" id="transportFeeNote" name="transportFeeNote" rows="3"
                  class="form-control"
                  placeholder="Ghi chú ..."></textarea>
      </div>

      <p></p>
      <alert type="danger" *ngIf="transportFeeErrorMessage.length > 0">
        <p *ngFor="let error of transportFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
      </alert>
    </div>
    <div class="modal-footer">
      <button type="button" [disabled]="!transportFeeForm.form.valid || (transportFeeSub && !transportFeeSub.closed)"
              class="btn btn-primary btn-rounded" (click)="transportFeeConfirm()">Cập nhật
      </button>
      <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
    </div>
  </form>
</ng-template>

<ng-template #transportFeeDelModal>
  <div class="modal-header">
    <h5 class="modal-title">Xóa Phí Vận Chuyển</h5>
  </div>
  <div class="modal-body" *ngIf="transportFee">
    <alert type="danger">
      <p><strong>!</strong> Bạn chắc chắn xóa "{{transportFee.title}}"!</p>
    </alert>

    <p></p>
    <alert type="danger" *ngIf="transportFeeErrorMessage.length > 0">
      <p *ngFor="let error of transportFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
    </alert>
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="(transportFeeSub && !transportFeeSub.closed)"
            class="btn btn-primary btn-rounded" (click)="transportFeeDelConfirm()">Xóa
    </button>
    <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
  </div>
</ng-template>

<!--
// =====================================================================================================================
// Inspection Fee
 -->

<div class="card entry-list">
  <div class="card-header">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6">
        <div class="title-list">
          <span>Phí kiểm đếm</span>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="card-header-actions">
          <button (click)="inspectionFeeModalOpen(inspectionFeeModal)" class="btn btn-block btn-primary btn-rounded"
              type="button">Thêm
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="card-body table-responsive">
    <table class="table table-hover">
      <thead>
      <tr>
        <th rowspan="2">Dịch vụ</th>
        <th rowspan="2">Số lượng SP</th>
        <th rowspan="2">Phí (VNĐ)</th>
        <th rowspan="2">Ghi chú</th>
        <th rowspan="2" class="text-right">Tác vụ</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of inspectionFees">
        <td>{{item.title}}</td>
        <td>{{item.min_count}} - {{item.max_count}}</td>
        <td>{{item.val | currency:'VND':'' }} đ</td>
        <td>{{item.note}}</td>
        <td class="text-right">
          <button (click)="inspectionFeeModalOpen(inspectionFeeModal, item)" class="btn btn-sm btn-info mr-1 text-white"
                  type="button">
            Sửa
          </button>
          <button (click)="inspectionFeeDelModalOpen(inspectionFeeDelModal, item)" class="btn btn-sm btn-violet"
                  type="button">
            Xóa
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #inspectionFeeModal>
  <form novalidate #inspectionFeeForm="ngForm">
    <div class="modal-header">
      <h5 class="modal-title">Chi tiết Phí kiểm đếm</h5>
    </div>
    <div class="modal-body" *ngIf="inspectionFee">
      <div class="form-group">
        <label for="inspectionFeeTitle">Dịch vụ <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="inspectionFee.title" #inspectionFeeTitle="ngModel" type="text" id="inspectionFeeTitle"
               name="inspectionFeeTitle"
               class="form-control"
               required
               placeholder="Dịch vụ">
        <div [hidden]="inspectionFeeTitle.valid || inspectionFeeTitle.untouched">
          <span *ngIf="inspectionFeeTitle.errors && inspectionFeeTitle.errors.required"
                class="badge badge-warning">
              Phải nhập DỊCH VỤ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="inspectionFeeMinCount">Số lượng từ <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="inspectionFee.min_count" #inspectionFeeMinCount="ngModel" type="number" min="0"
               id="inspectionFeeMinCount" name="inspectionFeeMinCount"
               class="form-control"
               required
               placeholder="Số lượng từ">
        <div [hidden]="inspectionFeeMinCount.valid || inspectionFeeMinCount.untouched">
          <span *ngIf="inspectionFeeMinCount.errors && inspectionFeeMinCount.errors.required"
                class="badge badge-warning">
              Phải nhập SỐ LƯỢNG TỪ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="inspectionFeeMaxCount">Số lượng đến </label>
        <input [(ngModel)]="inspectionFee.max_count" type="number" min="0"
               id="inspectionFeeMaxCount" name="inspectionFeeMaxCount"
               class="form-control"
               placeholder="Số lượng đến">
      </div>

      <div class="form-group">
        <label for="inspectionFeeVal">Tính phí (VNĐ) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="inspectionFee.val" #inspectionFeeVal="ngModel" type="number" min="0" max="100"
               id="inspectionFeeVal" name="inspectionFeeVal"
               class="form-control"
               required
               placeholder="Tính phí">
        <div [hidden]="inspectionFeeVal.valid || inspectionFeeVal.untouched">
          <span *ngIf="inspectionFeeVal.errors && inspectionFeeVal.errors.required"
                class="badge badge-warning">
              Phải nhập TÍNH PHÍ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="inspectionFeeNote">Ghi chú </label>
        <textarea [(ngModel)]="inspectionFee.note" id="inspectionFeeNote" name="inspectionFeeNote" rows="3"
                  class="form-control"
                  placeholder="Ghi chú ..."></textarea>
      </div>

      <p></p>
      <alert type="danger" *ngIf="inspectionFeeErrorMessage.length > 0">
        <p *ngFor="let error of inspectionFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
      </alert>
    </div>
    <div class="modal-footer">
      <button type="button" [disabled]="!inspectionFeeForm.form.valid || (inspectionFeeSub && !inspectionFeeSub.closed)"
              class="btn btn-primary btn-rounded" (click)="inspectionFeeConfirm()">Cập nhật
      </button>
      <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
    </div>
  </form>
</ng-template>

<ng-template #inspectionFeeDelModal>
  <div class="modal-header">
    <h5 class="modal-title">Xóa Phí kiểm đếm</h5>
  </div>
  <div class="modal-body" *ngIf="inspectionFee">
    <alert type="danger">
      <p><strong>!</strong> Bạn chắc chắn xóa "{{inspectionFee.title}}"!</p>
    </alert>

    <p></p>
    <alert type="danger" *ngIf="inspectionFeeErrorMessage.length > 0">
      <p *ngFor="let error of inspectionFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
    </alert>
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="(inspectionFeeSub && !inspectionFeeSub.closed)"
            class="btn btn-primary btn-rounded" (click)="inspectionFeeDelConfirm()">Xóa
    </button>
    <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
  </div>
</ng-template>

<!--
// =====================================================================================================================
// Dong go theo kich thuoc - crating
 -->

<div class="card entry-list">
  <div class="card-header">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6">
        <div class="title-list">
          <span>Phí đóng gỗ theo kích thước</span>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="card-header-actions">
          <button (click)="cratingFeeModalOpen(cratingFeeModal)" class="btn btn-block btn-primary btn-rounded"
                  type="button">Thêm
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="card-body table-responsive">
    <table class="table table-hover">
      <thead>
      <tr>
        <th rowspan="2">Dịch vụ</th>
        <th rowspan="2">Kích thước (dm3)</th>
        <th rowspan="2">Phí (VNĐ)</th>
        <th rowspan="2">Ghi chú</th>
        <th rowspan="2" class="text-right">Tác vụ</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of cratingFees">
        <td>{{item.title}}</td>
        <td>{{item.min_count}} - {{item.max_count}}</td>
        <td>{{item.val | currency:'VND':'' }} đ</td>
        <td>{{item.note}}</td>
        <td class="text-right">
          <button (click)="cratingFeeModalOpen(cratingFeeModal, item)" class="btn btn-sm btn-info mr-1 text-white"
                  type="button">
            Sửa
          </button>
          <button (click)="cratingFeeDelModalOpen(cratingFeeDelModal, item)" class="btn btn-sm btn-violet"
                  type="button">
            Xóa
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #cratingFeeModal>
  <form novalidate #cratingFeeForm="ngForm">
    <div class="modal-header">
      <h5 class="modal-title">Chi tiết Phí đóng gỗ</h5>
    </div>
    <div class="modal-body" *ngIf="cratingFee">
      <div class="form-group">
        <label for="cratingFeeTitle">Dịch vụ <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="cratingFee.title" #cratingFeeTitle="ngModel" type="text" id="cratingFeeTitle"
               name="cratingFeeTitle"
               class="form-control"
               required
               placeholder="Dịch vụ">
        <div [hidden]="cratingFeeTitle.valid || cratingFeeTitle.untouched">
          <span *ngIf="cratingFeeTitle.errors && cratingFeeTitle.errors.required"
                class="badge badge-warning">
              Phải nhập DỊCH VỤ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="cratingFeeMinCount">Kích thước từ (dm3) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="cratingFee.min_count" #cratingFeeMinCount="ngModel" type="number" min="0"
               id="cratingFeeMinCount" name="cratingFeeMinCount"
               class="form-control"
               required
               placeholder="Kích thước từ">
        <div [hidden]="cratingFeeMinCount.valid || cratingFeeMinCount.untouched">
          <span *ngIf="cratingFeeMinCount.errors && cratingFeeMinCount.errors.required"
                class="badge badge-warning">
              Phải nhập KÍCH THƯỚC TỪ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="cratingFeeMaxCount">Kích thước đến (dm3)</label>
        <input [(ngModel)]="cratingFee.max_count" type="number" min="0"
               id="cratingFeeMaxCount" name="cratingFeeMaxCount"
               class="form-control"
               placeholder="Kích thước đến (dm3)">
      </div>

      <div class="form-group">
        <label for="cratingFeeVal">Tính phí (VNĐ) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="cratingFee.val" #cratingFeeVal="ngModel" type="number" min="0" max="100"
               id="cratingFeeVal" name="cratingFeeVal"
               class="form-control"
               required
               placeholder="Tính phí">
        <div [hidden]="cratingFeeVal.valid || cratingFeeVal.untouched">
          <span *ngIf="cratingFeeVal.errors && cratingFeeVal.errors.required"
                class="badge badge-warning">
              Phải nhập TÍNH PHÍ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="cratingFeeNote">Ghi chú </label>
        <textarea [(ngModel)]="cratingFee.note" id="cratingFeeNote" name="cratingFeeNote" rows="3"
                  class="form-control"
                  placeholder="Ghi chú ..."></textarea>
      </div>

      <p></p>
      <alert type="danger" *ngIf="cratingFeeErrorMessage.length > 0">
        <p *ngFor="let error of cratingFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
      </alert>
    </div>
    <div class="modal-footer">
      <button type="button" [disabled]="!cratingFeeForm.form.valid || (cratingFeeSub && !cratingFeeSub.closed)"
              class="btn btn-primary btn-rounded" (click)="cratingFeeConfirm()">Cập nhật
      </button>
      <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
    </div>
  </form>
</ng-template>

<ng-template #cratingFeeDelModal>
  <div class="modal-header">
    <h5 class="modal-title">Xóa Phí kiểm đếm</h5>
  </div>
  <div class="modal-body" *ngIf="cratingFee">
    <alert type="danger">
      <p><strong>!</strong> Bạn chắc chắn xóa "{{cratingFee.title}}"!</p>
    </alert>

    <p></p>
    <alert type="danger" *ngIf="cratingFeeErrorMessage.length > 0">
      <p *ngFor="let error of cratingFeeErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
    </alert>
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="(cratingFeeSub && !cratingFeeSub.closed)"
            class="btn btn-primary btn-rounded" (click)="cratingFeeDelConfirm()">Xóa
    </button>
    <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
  </div>
</ng-template>
<!--
// =====================================================================================================================
// CHINA Warehouse
 -->
<div class="card entry-list">
  <div class="card-header">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6">
        <div class="title-list">
          <span>Kho Trung Quốc</span>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="card-header-actions">
          <button (click)="chinaWarehouseModalOpen(chinaWarehouseModal)" class="btn btn-block btn-primary btn-rounded"
              type="button">Thêm
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body table-responsive">
    <table class="table table-hover">
      <thead>
      <tr>
        <th rowspan="2">Tên kho</th>
        <th rowspan="2">Ghi chú</th>
        <th rowspan="2">Địa chỉ</th>
        <th rowspan="2">Người nhận</th>
        <th rowspan="2">Số điện thoại</th>
        <th rowspan="2">ZipCode</th>
        <th rowspan="2">Hoạt động</th>
        <th rowspan="2" class="text-right">Tác vụ</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of chinaWarehouses">
        <td>{{item.name}}</td>
        <td>{{item.note}}</td>
        <td>{{item.address}}</td>
        <td>{{item.receiver}}</td>
        <td>{{item.phone}}</td>
        <td>{{item.zipcode}}</td>
        <td>{{item.status}}</td>
        <td class="text-right">
          <button (click)="chinaWarehouseModalOpen(chinaWarehouseModal, item)" class="btn btn-sm btn-info mr-1 text-white"
                  type="button">
            Sửa
          </button>
          <button (click)="chinaWarehouseDelModalOpen(chinaWarehouseModal, item)" class="btn btn-sm btn-violet"
                  type="button">
            Xóa
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #chinaWarehouseModal>
  <form novalidate #chinaWarehouseForm="ngForm">
    <div class="modal-header">
      <h5 class="modal-title">Chi tiết kho Trung Quốc</h5>
    </div>
    <div class="modal-body" *ngIf="chinaWarehouse">
      <div class="form-group">
        <label for="chinaWarehouseName">Tên kho <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="chinaWarehouse.name" #chinaWarehouseName="ngModel" type="text" id="chinaWarehouseName"
               name="chinaWarehouseName"
               class="form-control"
               required
               placeholder="Tên kho">
        <div [hidden]="chinaWarehouseName.valid || chinaWarehouseName.untouched">
          <span *ngIf="chinaWarehouseName.errors && chinaWarehouseName.errors.required"
                class="badge badge-warning">
              Phải nhập Tên Kho!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="chinaWarehouseNote">Ghi chú </label>
        <textarea [(ngModel)]="chinaWarehouse.note" id="chinaWarehouseNote" name="chinaWarehouseNote" rows="3"
                  class="form-control"
                  placeholder="Ghi chú ..."></textarea>
      </div>

      <div class="form-group">
        <label for="chinaWarehouseAddress">Địa chỉ</label>
        <input [(ngModel)]="chinaWarehouse.address" #chinaWarehouseAddress="ngModel" type="text" id="chinaWarehouseAddress"
               name="chinaWarehouseAddress"
               class="form-control"
               placeholder="Địa chỉ">
      </div>

      <div class="form-group">
        <label for="chinaWarehouseZipcode">ZipCode</label>
        <input [(ngModel)]="chinaWarehouse.zipcode" #chinaWarehouseZipcode="ngModel" type="text" id="chinaWarehouseZipcode"
               name="chinaWarehouseZipcode"
               class="form-control"
               placeholder="ZipCode">
      </div>

      <div class="form-group">
        <label for="chinaWarehouseReceiver">Người nhận</label>
        <input [(ngModel)]="chinaWarehouse.receiver" #chinaWarehouseReceiver="ngModel" type="text" id="chinaWarehouseReceiver"
               name="chinaWarehouseReceiver"
               class="form-control"
               placeholder="Người nhận">
      </div>

      <div class="form-group">
        <label for="chinaWarehousePhone">Điện thoại</label>
        <input [(ngModel)]="chinaWarehouse.phone" #chinaWarehousePhone="ngModel" type="text" id="chinaWarehousePhone"
               name="chinaWarehousePhone"
               class="form-control"
               placeholder="Điện thoại">
      </div>

      <p></p>
      <alert type="danger" *ngIf="chinaWarehouseErrorMessage.length > 0">
        <p *ngFor="let error of chinaWarehouseErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
      </alert>
    </div>
    <div class="modal-footer">
      <button type="button" [disabled]="!chinaWarehouseForm.form.valid || (chinaWarehouseSub && !chinaWarehouseSub.closed)"
              class="btn btn-primary btn-rounded" (click)="chinaWarehouseConfirm()">Cập nhật
      </button>
      <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
    </div>
  </form>
</ng-template>

<ng-template #chinaWarehouseDelModal>
  <div class="modal-header">
    <h5 class="modal-title">Xóa kho Trung Quốc</h5>
  </div>
  <div class="modal-body" *ngIf="chinaWarehouse">
    <alert type="danger">
      <p><strong>!</strong> Bạn chắc chắn xóa "{{chinaWarehouse.name}}"!</p>
    </alert>

    <p></p>
    <alert type="danger" *ngIf="chinaWarehouseErrorMessage.length > 0">
      <p *ngFor="let error of chinaWarehouseErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
    </alert>
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="(chinaWarehouseSub && !chinaWarehouseSub.closed)"
            class="btn btn-primary btn-rounded" (click)="chinaWarehouseDelConfirm()">Xóa
    </button>
    <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
  </div>
</ng-template>

<!--
// =====================================================================================================================
// VIP
 -->
<div class="card entry-list">
  <div class="card-header">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6">
        <div class="title-list">
          <span>VIP</span>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="card-header-actions">
          <button (click)="vipModalOpen(vipModal)" class="btn btn-block btn-primary btn-rounded"
              type="button">Thêm
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body table-responsive">
    <table class="table table-hover">
      <thead>
      <tr>
        <th rowspan="2">VIP</th>
        <th rowspan="2">Tổng giao dịch (Triệu VNĐ)</th>
        <th rowspan="2">CK phí dịch vụ (%)</th>
        <th rowspan="2">CK phí vận chuyển (%)</th>
        <th rowspan="2">Đặt cọc tiền hàng (%)</th>
        <th rowspan="2">Ghi chú</th>
        <th rowspan="2" class="text-right">Tác vụ</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of vips">
        <td>{{item.title}}</td>
        <td>{{item.min_tot_tran}} - {{item.max_tot_tran}}</td>
        <td>{{item.ck_dv}}</td>
        <td>{{item.ck_vc}}</td>
        <td>{{item.deposit}}</td>
        <td>{{item.note}}</td>
        <td class="text-right">
          <button (click)="vipModalOpen(vipModal, item)" class="btn btn-sm btn-info mr-1 text-white"
                  type="button">
            Sửa
          </button>
          <button (click)="vipDelModalOpen(vipDelModal, item)" class="btn btn-sm btn-violet"
                  type="button">
            Xóa
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #vipModal>
  <form novalidate #vipForm="ngForm">
    <div class="modal-header">
      <h5 class="modal-title">Chi tiết VIP</h5>
    </div>
    <div class="modal-body" *ngIf="vip">
      <div class="form-group">
        <label for="vipTitle">Cấp độ <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="vip.title" #vipTitle="ngModel" type="text" id="vipTitle"
               name="vipTitle"
               class="form-control"
               required
               placeholder="Cấp độ">
        <div [hidden]="vipTitle.valid || vipTitle.untouched">
          <span *ngIf="vipTitle.errors && vipTitle.errors.required"
                class="badge badge-warning">
              Phải nhập CẤP ĐỘ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="vipMinTotTran">Tổng giao dịch từ (Triệu VNĐ)<code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="vip.min_tot_tran" #vipMinTotTran="ngModel" type="number" min="0"
               id="vipMinTotTran" name="vipMinTotTran"
               class="form-control"
               required
               placeholder="Tổng giao dịch từ">
        <div [hidden]="vipMinTotTran.valid || vipMinTotTran.untouched">
          <span *ngIf="vipMinTotTran.errors && vipMinTotTran.errors.required"
                class="badge badge-warning">
              Phải nhập TỔNG GIAO DỊCH TỪ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="vipMaxTotTran">Tổng giao dịch đến (Triệu VNĐ)</label>
        <input [(ngModel)]="vip.max_tot_tran" type="number" min="0"
               id="vipMaxTotTran" name="vipMaxTotTran"
               class="form-control"
               placeholder="Tổng giao dịch đến">
      </div>

      <div class="form-group">
        <label for="vipCkDv">Chiết khấu dịch vụ (%) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="vip.ck_dv" #vipCkDv="ngModel" type="number" min="0" max="100"
               id="vipCkDv" name="vipCkDv"
               class="form-control"
               required
               placeholder="Chiết khấu dịch vụ">
        <div [hidden]="vipCkDv.valid || vipCkDv.untouched">
          <span *ngIf="vipCkDv.errors && vipCkDv.errors.required"
                class="badge badge-warning">
              Phải nhập CHIẾT KHẤU DỊCH VỤ!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="vipCkVc">Chiết khấu vận chuyển (%) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="vip.ck_vc" #vipCkVc="ngModel" type="number" min="0" max="100"
               id="vipCkVc" name="vipCkVc"
               class="form-control"
               required
               placeholder="Chiết khấu vận chuyển">
        <div [hidden]="vipCkVc.valid || vipCkVc.untouched">
          <span *ngIf="vipCkVc.errors && vipCkVc.errors.required"
                class="badge badge-warning">
              Phải nhập CHIẾT KHẤU VẬN CHUYỂN!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="vipDeposit">Đặt cọc tiền hàng (%) <code class="highlighter-rouge">*</code></label>
        <input [(ngModel)]="vip.deposit" #vipDeposit="ngModel" type="number" min="0" max="100"
               id="vipDeposit" name="vipDeposit"
               class="form-control"
               required
               placeholder="Đặt cọc tiền hàng">
        <div [hidden]="vipDeposit.valid || vipDeposit.untouched">
          <span *ngIf="vipDeposit.errors && vipDeposit.errors.required"
                class="badge badge-warning">
              Phải nhập ĐẶT CỌC TIỀN HÀNG!
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="vipNote">Ghi chú </label>
        <textarea [(ngModel)]="vip.note" id="vipNote" name="vipNote" rows="3"
                  class="form-control"
                  placeholder="Ghi chú ..."></textarea>
      </div>

      <p></p>
      <alert type="danger" *ngIf="vipErrorMessage.length > 0">
        <p *ngFor="let error of vipErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
      </alert>
    </div>
    <div class="modal-footer">
      <button type="button" [disabled]="!vipForm.form.valid || (vipSub && !vipSub.closed)"
              class="btn btn-primary btn-rounded" (click)="vipConfirm()">Cập nhật
      </button>
      <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
    </div>
  </form>
</ng-template>

<ng-template #vipDelModal>
  <div class="modal-header">
    <h5 class="modal-title">Xóa VIP</h5>
  </div>
  <div class="modal-body" *ngIf="vip">
    <alert type="danger">
      <p><strong>!</strong> Bạn chắc chắn xóa "{{vip.title}}"!</p>
    </alert>

    <p></p>
    <alert type="danger" *ngIf="vipErrorMessage.length > 0">
      <p *ngFor="let error of vipErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
    </alert>
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="(vipSub && !vipSub.closed)"
            class="btn btn-primary btn-rounded" (click)="vipDelConfirm()">Xóa
    </button>
    <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
  </div>
</ng-template>
<!--
// =====================================================================================================================
// Other
 -->
<div class="card entry-list">
  <div class="card-header">
    <div class="row justify-content-between align-items-center">
      <div class="col-12 col-md-6">
        <div class="title-list">
          <span>Tham số khác</span>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body table-responsive">
    <table class="table table-hover">
      <thead>
      <tr>
        <th rowspan="2">Tham số</th>
        <th rowspan="2">Giá trị</th>
        <th rowspan="2" class="text-right">Tác vụ</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of settings">
        <td>{{item.title}}</td>
        <td>{{item.value}}</td>
        <td class="text-right">
          <button (click)="settingModalOpen(settingModal, item)" class="btn btn-sm btn-info mr-1 text-white"
                  type="button">
            Sửa
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #settingModal>
  <form novalidate #settingForm="ngForm">
    <div class="modal-header">
      <h5 class="modal-title">Chi tiết cấu hình tham số</h5>
    </div>
    <div class="modal-body" *ngIf="setting">
      <div class="form-group row">
        <label class="col-md-3 col-form-label" for="key">Key</label>
        <div class="col-md-9">
          <input disabled [(ngModel)]="setting.key" type="text" id="key"
                 name="key"
                 required
                 class="form-control"
                 placeholder="Key">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-3 col-form-label" for="title">Tiêu đề</label>
        <div class="col-md-9">
          <input disabled [(ngModel)]="setting.title" type="text" id="title"
                 name="title"
                 required
                 class="form-control"
                 placeholder="Tiêu đề">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-3 col-form-label" for="value">Giá trị <code class="highlighter-rouge">*</code></label>
        <div class="col-md-9">
          <input [(ngModel)]="setting.value" #value="ngModel" type="text" id="value"
                 name="value"
                 required
                 class="form-control"
                 placeholder="Giá trị tham số">
          <div [hidden]="value.valid || value.untouched">
                                <span *ngIf="value.errors && value.errors.required"
                                      class="badge badge-warning">
                                    Phải nhập giá trị tham số!
                                </span>
          </div>
        </div>
      </div>
      <p></p>
      <alert type="danger" *ngIf="settingErrorMessage.length > 0">
        <p *ngFor="let error of settingErrorMessage"><strong>Lỗi!</strong> {{error}}</p>
      </alert>
    </div>
    <div class="modal-footer">
      <button type="button" [disabled]="!settingForm.form.valid || (settingSub && !settingSub.closed)"
              class="btn btn-primary btn-rounded" (click)="settingConfirm()">Cập nhật
      </button>
      <button type="button" class="btn btn-warning btn-rounded" (click)="declineModal()">Quay lại</button>
    </div>
  </form>
</ng-template>
