<div *ngIf="!authService.hasRole('custumer')" class="container-fluid">
  <div class="animated fadeIn bg-white p-20 entry-list">
    <div class="row mb-30 justify-content-between align-items-center">
      <div class="col-sm-6 col-lg-3">
        <div class="title-list ">
          <span>Tổng hợp dữ liệu</span>
        </div>
      </div>
      <div class="col-sm-6 col-lg-6 ml-auto">
        <div class="text-right d-flex">
          <button class="btn btn-info mr-2 text-white px-2 btn-rounded" style="width: 80px;" type="button"><strong>Tất
            cả</strong></button>

          <div class="input-group filter-advanced">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <i class="iconsax isax-calendar"></i>
              </div>
            </div>
            <input title="" class="form-control" #rangePicker="bsDaterangepicker" [(ngModel)]="bsRangeValue"
                   [maxDate]="today"
                   placeholder="DD/MM/YY - DD/MM/YY" bsDaterangepicker
                   (onShown)="onDateRangePickerShow()"
                   [bsConfig]="bsConfig">
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6 col-lg-3">
        <div class="card bg-orange-transparent widget">
          <div class="card-body">
            <div class="bg-orange inner-icon text-white">
              <i class="iconsax isax-link"></i>
            </div>
            <span class="inner-desc">Link sản phẩm mới</span>
            <div class="inner-value">{{newLink.toString() | tempPrice: 1 : 1: true}}</div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card bg-violet-transparent widget">
          <div class="card-body">
            <div class="bg-violet inner-icon text-white">
              <i class="iconsax isax-d-rotate"></i>
            </div>
            <span class="inner-desc">Đơn hàng mới</span>
            <div class="inner-value">{{newOrder.toString() | tempPrice: 1 : 1: true}}</div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card text-white bg-blue-transparent widget">
          <div class="card-body">
            <div class="bg-blue inner-icon text-white">
              <i class="iconsax isax-profile-2user"></i>
            </div>
            <span class="inner-desc">Thành viên mới</span>
            <div class="inner-value">{{newUser.toString() | tempPrice: 1 : 1: true}}</div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card bg-light-blue-transparent widget">
          <div class="card-body">
            <div class="bg-light-blue inner-icon text-white">
              <i class="iconsax isax-dislike"></i>
            </div>
            <span class="inner-desc">Khiếu nại</span>
            <div class="inner-value">{{newComplain.toString() | tempPrice: 1 : 1: true}}</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-8 col-lg-8">
        <div class="card p-0">
          <div class="card-header p-0">
            <div class="row justify-content-between align-items-center">
              <div class="col-12 col-md-8">
                <div class="title-list">
                  <span class="highlight-violet">Biểu đồ tình hình kết đơn</span>
                </div>
              </div>
              <div class="col-12 col-md-3 ml-auto">
                <select [(ngModel)]="dateNumber" (change)="loadData()" class="form-control" name="dateNumber"
                        id="dateNumber">
                  <option value="7">7 ngày gần đây</option>
                  <option value="10">10 ngày gần đây</option>
                  <option value="15">15 ngày gần đây</option>
                  <option value="30">30 ngày gần đây</option>
                </select>
              </div>
            </div>
          </div>
          <div class="card-body p-0">
            <div class="chart-wrapper" style="height:300px;margin-top:40px;">
              <ngx-charts-bar-vertical
                [scheme]="colorScheme"
                [results]="orderstatistic"
                [gradient]="gradient"
                [xAxis]="showXAxis"
                [yAxis]="showYAxis"
                [legend]="showLegend"
                [showXAxisLabel]="showXAxisLabel"
                [showYAxisLabel]="showYAxisLabel"
                [xAxisLabel]="xAxisLabel"
                [yAxisLabel]="yAxisLabel"
                (select)="onSelect($event)">
              </ngx-charts-bar-vertical>
            </div>
          </div>
          <div class="card-footer p-0">
            <div class="row text-center">
              <div *ngFor="let item of orderstatusstatistic" class="col-sm-12 col-md mb-sm-2 mb-0">
                <div class="text-muted">{{item.name}}</div>
                <strong>{{item.val}} ({{item.valp}}%)</strong>
                <div class="progress progress-xs mt-2">
                  <div aria-valuemax="100" aria-valuemin="0" class="progress-bar bg-foursquare"
                       [style.width.%]="item.valp"
                       role="progressbar"></div>
                  <div aria-valuemax="100" aria-valuemin="0" class="progress-bar bg-success"
                       [style.width.%]="item.valsub"
                       role="progressbar"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4 col-lg-4">
        <div class="brand-card bg-gray p-15">
          <div class="title-list mb-30">
            <span class="highlight-violet">TAOBAO</span>
          </div>

          <div class="brand-card-body">
            <div class="text-left">
              <span class="text-value">{{statisticTaobao.link.toString() | tempPrice: 1 : 1: true}}</span>
              <span class="text-desc">link</span>
            </div>
            <div>
              <span class="text-value">{{statisticTaobao.order.toString() | tempPrice: 1 : 1: true}}</span>
              <span class="text-desc">đơn</span>
            </div>
          </div>
        </div>
        <div class="brand-card bg-gray p-15">
          <div class="title-list mb-30">
            <span class="highlight-blue">TMALL</span>
          </div>

          <div class="brand-card-body">
            <div class="text-left">
              <span class="text-value">{{statisticTmall.link.toString() | tempPrice: 1 : 1: true}}</span>
              <span class="text-desc">link</span>
            </div>
            <div>
              <span class="text-value">{{statisticTmall.order.toString() | tempPrice: 1 : 1: true}}</span>
              <span class="text-desc">đơn</span>
            </div>
          </div>
        </div>
        <div class="brand-card bg-gray p-15">
          <div class="title-list mb-30">
            <span class="highlight-orange">1688</span>
          </div>

          <div class="brand-card-body">
            <div class="text-left">
              <span class="text-value">{{statistic1688.link.toString() | tempPrice: 1 : 1: true}}</span>
              <span class="text-desc">link</span>
            </div>
            <div>
              <span class="text-value">{{statistic1688.order.toString() | tempPrice: 1 : 1: true}}</span>
              <span class="text-desc">đơn</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div><!-- /.container-fluid -->
